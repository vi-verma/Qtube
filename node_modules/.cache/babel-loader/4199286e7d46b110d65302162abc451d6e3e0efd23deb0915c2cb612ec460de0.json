{"ast":null,"code":"var _jsxFileName = \"/Users/vivekverma/Desktop/demo-project/Qtube/src/components/Login/Login.js\",\n  _s = $RefreshSig$();\nimport styles from './Login.module.css';\nimport { useEffect, useRef, useState } from 'react';\nimport { useGoogleLogin } from '@react-oauth/google';\nimport { useNavigate } from \"react-router-dom\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport app from './Firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const auth = getAuth(app);\n  const [currentUser, setCurrentUser] = useState();\n  const userNameRef = useRef();\n  const passwordeRef = useRef();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      navigate('/home');\n    }\n    const unsubscribe = auth.onAuthStateChanged(user => setCurrentUser(user));\n    return unsubscribe;\n  }, []);\n\n  // login/signin using firebase\n  const handleSubmit = event => {\n    event.preventDefault();\n    signInWithEmailAndPassword(auth, userNameRef.current.value, passwordeRef.current.value).then(userCredential => {\n      // Signed in \n      const user = userCredential.user;\n      localStorage.setItem('token', user.accessToken);\n      navigate('/home');\n    }).catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n    });\n  };\n\n  // signup using firebase\n  // const handleSignup = () => {\n  // const handleSubmit = (event) =>{\n  // event.preventDefault();\n  // auth.createUserWithEmailAndPassword(userNameRef.current.value, passwordeRef.current.value)\n  // };\n  // on Setting new user\n  // useEffect(() => {\n  //     const unsubscribe = auth.onAuthStateChanged(user => setCurrentUser(user));\n\n  //     return unsubscribe\n  // },[])\n\n  // login using google OAuth\n  const login = useGoogleLogin({\n    onSuccess: tokenResponse => {\n      console.log('google login', tokenResponse);\n      if (tokenResponse.access_token) {\n        localStorage.setItem('token', tokenResponse.access_token);\n        navigate('/home');\n      } else {\n        navigate('/');\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loginForm,\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.userName,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"username\",\n            ref: userNameRef,\n            type: \"text\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.password,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            ref: passwordeRef,\n            type: \"password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.loginButton,\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.loginButton,\n        onClick: () => login(),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/google.png\",\n          alt: \"google\",\n          width: \"20\",\n          style: {\n            marginRight: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), \"Login with Google\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"Ja2oliOCeK4dpqu1nLjwAv3e0V4=\", false, function () {\n  return [useNavigate, useGoogleLogin];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["styles","useEffect","useRef","useState","useGoogleLogin","useNavigate","getAuth","signInWithEmailAndPassword","app","Login","auth","currentUser","setCurrentUser","userNameRef","passwordeRef","navigate","localStorage","getItem","unsubscribe","onAuthStateChanged","user","handleSubmit","event","preventDefault","current","value","then","userCredential","setItem","accessToken","catch","error","errorCode","code","errorMessage","message","login","onSuccess","tokenResponse","console","log","access_token","container","loginForm","userName","password","loginButton","marginRight"],"sources":["/Users/vivekverma/Desktop/demo-project/Qtube/src/components/Login/Login.js"],"sourcesContent":["import styles from './Login.module.css';\nimport { useEffect, useRef, useState } from 'react';\nimport { useGoogleLogin } from '@react-oauth/google';\nimport { useNavigate } from \"react-router-dom\";\n\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport app from './Firebase'\n\n\nconst Login = () => {\n    const auth = getAuth(app);\n    const [currentUser, setCurrentUser] = useState();\n\n    const userNameRef = useRef();\n    const passwordeRef = useRef();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (localStorage.getItem('token')) {\n            navigate('/home')\n        }\n        const unsubscribe = auth.onAuthStateChanged(user => setCurrentUser(user));\n\n        return unsubscribe\n    }, []);\n    \n\n    // login/signin using firebase\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        signInWithEmailAndPassword(auth,userNameRef.current.value, passwordeRef.current.value)\n        .then((userCredential) => {\n            // Signed in \n            const user = userCredential.user;\n            localStorage.setItem('token', user.accessToken);\n            navigate('/home')\n        })\n        .catch((error) => {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n        });\n    };\n\n    // signup using firebase\n    // const handleSignup = () => {\n    // const handleSubmit = (event) =>{\n    // event.preventDefault();\n    // auth.createUserWithEmailAndPassword(userNameRef.current.value, passwordeRef.current.value)\n    // };\n    // on Setting new user\n    // useEffect(() => {\n    //     const unsubscribe = auth.onAuthStateChanged(user => setCurrentUser(user));\n\n    //     return unsubscribe\n    // },[])\n\n\n    // login using google OAuth\n    const login = useGoogleLogin({\n        onSuccess: (tokenResponse) => {\n            console.log('google login', tokenResponse)\n            if (tokenResponse.access_token) {\n                localStorage.setItem('token', tokenResponse.access_token)\n                navigate('/home')\n            } else {\n                navigate('/')\n            }\n        }\n    });\n\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.loginForm}>\n\n                <form onSubmit={handleSubmit}>\n                    <div className={styles.userName}>\n                        <label>Username </label>\n                        <input name='username' ref={userNameRef} type=\"text\" required />\n                    </div>\n                    <div className={styles.password}>\n                        <label>Password </label>\n                        <input name='password' ref={passwordeRef} type=\"password\" required />\n                    </div>\n                    <button\n                        className={styles.loginButton}\n                        type='submit'\n                    >\n                        Login\n                    </button>\n                </form>\n                <button className={styles.loginButton} onClick={() => login()}>\n                    <img src='/google.png' alt='google' width='20' style={{ marginRight: '5px' }} />\n                    Login with Google\n                </button>\n\n            </div>\n        </div>\n    )\n};\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}